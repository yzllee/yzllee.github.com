webpackJsonp([1],[,,,,,,,,function(t,e,a){"use strict";a.d(e,"d",function(){return i}),a.d(e,"a",function(){return r}),a.d(e,"b",function(){return s}),a.d(e,"c",function(){return n}),a.d(e,"e",function(){return o});var i="CHANGE_MOVIES_TAB",r="FETCH_MOVIES",s="FETCH_MOVIES_QUERY",n="CLEAR_MOVIES_QUERY",o="UPDATE_MOVIE_SEARCH_STEP"},,,,,,,,,,,,,,,,,,function(t,e,a){t.exports=a.p+"static/img/icebear.0866b15.jpg"},function(t,e,a){"use strict";var i=a(12),r=a(147),s=a(45),n=a.n(s),o=a(133),c=a.n(o),u=a(135),l=a.n(u),v=a(134),m=a.n(v),d=a(136),f=a.n(d),_=a(130),p=a.n(_),h=a(129),b=a.n(h);i.default.use(r.a),e.a=new r.a({mode:"history",routes:[{path:"/",redirect:"/movie/home",name:"Home",component:n.a},{path:"/movie/home",name:"Movie",component:c.a},{path:"/movie/subject/:id",name:"MovieSubject",component:l.a},{path:"/movie/search",name:"MovieSearch",component:m.a},{path:"/music",name:"Music",component:f.a},{path:"/books",name:"Books",component:p.a},{path:"/about",name:"About",component:b.a},{path:"/vueapp",redirect:"/movie/home"}]})},,,,,,function(t,e,a){"use strict";function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.city,r=void 0===i?"杭州":i,s=e.start,o=void 0===s?0:s;return a.i(n.a)("/movie/"+t,{city:r,start:o})}function r(t){var e=t.q,i=t.start,r=void 0===i?0:i;return a.i(n.a)("/movie/search",{q:e,start:r})}function s(t){return a.i(n.a)("/movie/subject/"+t)}var n=a(79);a.d(e,"c",function(){return o}),e.a=i,e.b=r,e.d=s;var o={inTheaters:"in_theaters",comingSoon:"coming_soon"}},,,,,,,,,,,,function(t,e,a){var i=a(3)(null,a(146),null,null);t.exports=i.exports},function(t,e,a){"use strict";var i=a(12),r=a(11),s=a(80);i.default.use(r.a),e.a=new r.a.Store({modules:{movie:s.a}})},function(t,e){},function(t,e){},,function(t,e,a){a(121);var i=a(3)(a(69),a(139),null,null);t.exports=i.exports},,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(45),r=a.n(i),s=a(131),n=a.n(s);e.default={name:"app",components:{Home:r.a,FooterTab:n.a}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a(11),a(8);e.default={data:function(){return{bottomNav:"Home",bottomNavColor:"Home"}},methods:{handleChange:function(t){this.bottomNav=t,this.$router.push({name:t})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(11),r=a(8);e.default={props:["tabName"],data:function(){return{}},methods:{ratingStar:function(t){var e=Math.round(t),a=Math.floor(e/2),i=e%2;return{star:a,half:i,left:5-a-i}},fetchData:function(){this.$store.state.movie.movies[this.tabName].subjects&&this.$store.state.movie.movies[this.tabName].subjects.length>0||this.$store.dispatch(r.a,{type:this.tabName})}},computed:a.i(i.b)({subjects:function(t){return t.movie.movies[this.tabName].subjects}}),mounted:function(){this.fetchData()},beforeUpdate:function(){this.fetchData()},destroyed:function(){console.log("des")}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(11),r=a(132),s=a.n(r),n=a(8);e.default={data:function(){return{}},components:{Card:s.a},computed:a.i(i.b)({activeTab:function(t){return t.movie.tab}}),methods:{handleTabChange:function(t){this.$store.dispatch(n.d,t)},goSearch:function(){this.$router.push({name:"MovieSearch"})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(11),r=a(8);e.default={name:"movieSearch",data:function(){return{count:20,start:0,total:0,q:""}},computed:a.i(i.b)({subjects:function(t){return t.movie.movieQuery.subjects},text:function(t){return t.movie.movieQuery.q}}),watch:{$route:"getDate"},methods:{ratingStar:function(t){var e=Math.round(t),a=Math.floor(e/2),i=e%2;return{star:a,half:i,left:5-a-i}},goBack:function(){this.$router.go(-this.$store.state.movie.searchStep),this.$store.dispatch(r.e,1),this.$store.dispatch(r.c)},search:function(){0!==(""+this.q).length&&(this.$store.dispatch(r.e,this.$store.state.movie.searchStep+1),this.$router.push({name:"MovieSearch",query:{q:this.q}}))},getDate:function(){this.$route.query.q&&this.$route.query.q!==this.$store.state.movie.movieQuery.q&&this.$store.dispatch(r.b,{q:this.$route.query.q})},clearDate:function(){this.$router.push({name:"MovieSearch"}),this.$store.dispatch(r.c),this.q=""}},mounted:function(){this.getDate()}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(27),r=a(33);e.default={name:"movieSubject",data:function(){return{movie:{rating:{},images:{},countries:[],genres:[],casts:[],directors:[],aka:[]}}},watch:{$route:function(t){this.getSubjectID(t.params.id)}},mounted:function(){this.getSubjectID(this.$route.params.id)},methods:{getSubjectID:function(t){var e=this;a.i(r.d)(t).then(function(t){e.movie=t,console.log(t)})},ratingStar:function(t){if(!t)return{star:0,half:0,left:0};var e=Math.round(t),a=Math.floor(e/2),i=e%2;return{star:a,half:i,left:5-a-i}},goBack:function(){i.a.go(-1)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(12),r=a(49),s=a.n(r),n=a(47),o=(a.n(n),a(48)),c=(a.n(o),a(50)),u=a.n(c),l=a(27),v=a(46);i.default.use(s.a),i.default.filter("addPath",function(t){return t.join(" / ")}),i.default.filter("fixNum",function(t){return t?Number(t).toFixed(1):"暂无评分"}),window.t=new i.default({el:"#app",router:l.a,store:v.a,template:"<App/>",components:{App:u.a}})},function(t,e,a){"use strict";var i=a(82),r=a.n(i),s=a(51),n=a.n(s);e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new r.a(function(a,i){n.a.get("/api/"+t,{params:e}).then(function(t){a(t.data)}).catch(function(t){return i(t)})})}},function(t,e,a){"use strict";var i,r,s,n=a(83),o=a.n(n),c=a(8),u=a(33),l=(i={},o()(i,c.a,function(t,e){t.movies[e.type].subjects=t.movies[e.type].subjects.concat(e.subjects),t.movies[e.type].total=t.movies[e.type].subjects.length}),o()(i,c.b,function(t,e){t.movieQuery.subjects=e.data.subjects,t.movieQuery.total=t.movieQuery.subjects.length}),o()(i,c.c,function(t){t.movieQuery.total=0,t.movieQuery.subjects=[]}),o()(i,c.d,function(t,e){t.tab=e}),o()(i,c.e,function(t,e){t.searchStep=e}),i),v=(r={},o()(r,c.a,function(t,e){u.a(e.type,{start:e.start||0}).then(function(a){return t.commit(c.a,{type:e.type,subjects:a.subjects})})}),o()(r,c.b,function(t,e){u.b({q:e.q}).then(function(a){return t.commit(c.b,{data:a,q:e.q})})}),o()(r,c.c,function(t){t.commit(c.c)}),o()(r,c.d,function(t,e){t.commit(c.d,e)}),o()(r,c.e,function(t,e){t.commit(c.e,e)}),r);e.a={state:{movies:(s={},o()(s,u.c.inTheaters,{total:0,subjects:[],describe:""}),o()(s,u.c.comingSoon,{total:0,subjects:[],describe:"1"}),s),movieQuery:{total:0,subjects:[],describe:"",q:""},tab:"in_theaters",searchStep:1},mutations:l,actions:v}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,function(t,e,a){a(127);var i=a(3)(a(70),a(145),null,null);t.exports=i.exports},function(t,e,a){a(123);var i=a(3)(a(71),a(141),null,null);t.exports=i.exports},function(t,e,a){a(120);var i=a(3)(a(72),a(138),null,null);t.exports=i.exports},function(t,e,a){a(124);var i=a(3)(a(73),a(142),"data-v-5ab242c2",null);t.exports=i.exports},function(t,e,a){a(122);var i=a(3)(a(74),a(140),null,null);t.exports=i.exports},function(t,e,a){a(125);var i=a(3)(a(75),a(143),"data-v-650442da",null);t.exports=i.exports},function(t,e,a){a(119);var i=a(3)(a(76),a(137),null,null);t.exports=i.exports},function(t,e,a){a(126);var i=a(3)(a(77),a(144),null,null);t.exports=i.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"movie-subject"},[a("div",{staticClass:"subject-head"},[a("mu-appbar",{attrs:{title:t.movie.title}},[a("mu-icon-button",{staticClass:"icon-back",attrs:{icon:"arrow_back"},on:{click:function(e){t.goBack()}},slot:"left"}),t._v(" "),a("mu-icon-button",{slot:"right"})],1)],1),t._v(" "),a("div",{staticClass:"movie-subject-iamge"},[a("mu-paper",{staticClass:"demo-paper",staticStyle:{width:"35%",height:"200px"},attrs:{zDepth:4}},[a("img",{staticStyle:{width:"100%"},attrs:{src:t.movie.images.large}})])],1),t._v(" "),a("div",{staticClass:"movie-subject-text"},[a("div",{staticClass:"text-left"},[a("h3",[t._v(t._s(t.movie.title))]),t._v(" "),a("p",[a("span",[t._v(t._s(t.movie.year)+"/")]),t._v(" "),a("span",[t._v(t._s(t._f("addPath")(t.movie.countries))+"/")]),t._v(" "),a("span",[t._v(t._s(t._f("addPath")(t.movie.genres)))])]),t._v(" "),a("p",[t._v("原名："+t._s(t.movie.original_title))])]),t._v(" "),a("div",{staticClass:"text-right"},[a("mu-paper",{staticClass:"demo-paper",attrs:{zDepth:4}},[a("div",{staticClass:"movie-star-box"},[a("h3",[t._v(t._s(t._f("fixNum")(t.movie.rating.average)))]),t._v(" "),t.movie.rating.average>0?a("p",{staticClass:"movie-card-star"},[t._l(t.ratingStar(t.movie.rating.average).star,function(t){return a("mu-icon",{key:Math.random(),staticClass:"movie-star-icon",attrs:{value:"star"}})}),t._v(" "),t._l(t.ratingStar(t.movie.rating.average).half,function(t){return a("mu-icon",{key:Math.random(),staticClass:"movie-star-icon",attrs:{value:"star_half"}})}),t._v(" "),t._l(t.ratingStar(t.movie.rating.average).left,function(t){return a("mu-icon",{key:Math.random(),staticClass:"movie-star-icon",attrs:{value:"star_border"}})})],2):t._e(),t._v(" "),a("p",{staticClass:"collect_count"},[t._v(t._s(t.movie.collect_count)+"人")])])])],1)]),t._v(" "),a("mu-divider"),t._v(" "),a("div",{staticClass:"movie-summary"},[a("mu-sub-header",[t._v("剧情简介")]),t._v(" "),a("p",[t._v(t._s(t.movie.summary))])],1),t._v(" "),a("mu-divider"),t._v(" "),a("div",{staticClass:"movie-author"},[a("mu-sub-header",[t._v("影人")]),t._v(" "),a("mu-grid-list",{staticClass:"movie-author-list",staticStyle:{margin:"0 10px"}},[t._l(t.movie.directors,function(e){return a("mu-grid-tile",{key:Math.random()},[a("img",{attrs:{src:e.avatars&&e.avatars.large||""}}),t._v(" "),a("span",{slot:"title"},[a("b",[t._v("导演")])]),t._v(" "),a("span",{slot:"subTitle"},[a("b",[t._v(t._s(e.name))])])])}),t._v(" "),t._l(t.movie.casts,function(e){return a("mu-grid-tile",{key:Math.random()},[a("img",{attrs:{src:e.avatars&&e.avatars.large||""}}),t._v(" "),a("span",{slot:"subTitle"},[a("b",[t._v(t._s(e.name))])])])})],2)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"footer"}},[a("mu-paper",[a("mu-bottom-nav",{attrs:{value:t.bottomNav,shift:""},on:{change:t.handleChange}},[a("mu-bottom-nav-item",{attrs:{value:"Home",title:"电影",icon:"ondemand_video"}}),t._v(" "),a("mu-bottom-nav-item",{attrs:{value:"Music",title:"音乐",icon:"music_note"}}),t._v(" "),a("mu-bottom-nav-item",{attrs:{value:"Books",title:"图书",icon:"books"}}),t._v(" "),a("mu-bottom-nav-item",{attrs:{value:"About",title:"关于",icon:"info"}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view"),t._v(" "),a("FooterTab")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"movie"}},[a("div",{staticClass:"movie-head"},[a("mu-paper",{attrs:{zDepth:2}},[a("mu-appbar",{attrs:{title:"电影"}},[a("mu-icon",{attrs:{value:"home",size:32},slot:"left"}),t._v(" "),a("mu-icon-button",{attrs:{icon:"search"},on:{click:function(e){t.goSearch()}},slot:"right"})],1),t._v(" "),a("mu-tabs",{attrs:{value:t.activeTab},on:{change:t.handleTabChange}},[a("mu-tab",{attrs:{value:"in_theaters",title:"正在热映"}}),t._v(" "),a("mu-tab",{attrs:{value:"coming_soon",title:"即将上映"}})],1)],1)],1),t._v(" "),"in_theaters"===t.activeTab?a("div",[a("Card",{attrs:{"tab-name":"in_theaters"}})],1):t._e(),t._v(" "),"coming_soon"===t.activeTab?a("div",[a("Card",{attrs:{"tab-name":"coming_soon"}})],1):t._e()])},staticRenderFns:[]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"books"}},[i("div",{staticClass:"books-head"},[i("mu-appbar",{attrs:{title:"图书"}})],1),t._v(" "),i("div",[i("mu-paper",{staticClass:"demo-paper",attrs:{circle:"",zDepth:3}},[i("img",{attrs:{src:a(26)}})])],1),t._v(" "),i("div",[i("p",{staticClass:"building"},[t._v("施工中...")]),t._v(" "),i("mu-circular-progress",{attrs:{size:40}})],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("mu-row",{staticClass:"card-row"},t._l(t.subjects,function(e){return a("mu-col",{key:e.id,staticClass:"card-elem",attrs:{width:"33",tablet:"25",desktop:"20"}},[a("router-link",{attrs:{to:{name:"MovieSubject",params:{id:e.id}}}},[a("mu-paper",[a("div",{staticClass:"card-border"},[a("div",{staticClass:"card-img",style:"background-image: url("+e.images.large+")"})]),t._v(" "),a("div",{staticClass:"card-text"},[a("p",[t._v(t._s(e.title))]),t._v(" "),a("p",{staticClass:"card-star-box"},[e.rating.average>0?a("span",{staticClass:"card-star"},[t._l(t.ratingStar(e.rating.average).star,function(i){return a("mu-icon",{key:e.id+t.ratingStar(e.rating.average).star,staticClass:"star-icon",attrs:{value:"star"}})}),t._v(" "),t._l(t.ratingStar(e.rating.average).half,function(i){return a("mu-icon",{key:e.id+t.ratingStar(e.rating.average).half,staticClass:"star-icon",attrs:{value:"star_half"}})}),t._v(" "),t._l(t.ratingStar(e.rating.average).left,function(i){return a("mu-icon",{key:e.id+t.ratingStar(e.rating.average).left,staticClass:"star-icon",attrs:{value:"star_border"}})})],2):t._e(),t._v(" "),a("span",{staticClass:"card-rating"},[t._v(t._s(t._f("fixNum")(e.rating.average)))])])])])],1)],1)}))],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"search"}},[a("div",[a("mu-paper",{attrs:{zDepth:2}},[a("mu-appbar",{staticClass:"search-bar",attrs:{title:"Title"}},[a("mu-icon-button",{staticClass:"bar-icon",attrs:{icon:"arrow_back"},on:{click:function(e){t.goBack()}},slot:"left"}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.q,expression:"q",modifiers:{trim:!0}}],staticClass:"bar-text",attrs:{autofocus:"true",underlineShow:!1,hintText:"请输入关键字"},domProps:{value:t.text,value:t.q},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.search(e)},input:function(e){e.target.composing||(t.q=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),a("mu-icon-button",{staticClass:"bar-icon",attrs:{icon:"close"},on:{click:function(e){t.clearDate()}},slot:"right"})],1)],1)],1),t._v(" "),a("div",{staticClass:"result"},t._l(t.subjects,function(e){return a("router-link",{key:e.id,attrs:{to:{name:"MovieSubject",params:{id:e.id}}}},[a("mu-paper",{staticClass:"elem",attrs:{zDepth:1}},[a("div",{staticClass:"image",style:"background-image: url("+e.images.large+")"}),t._v(" "),a("div",{staticClass:"text"},[a("div",{staticClass:"name"},[a("span",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),a("span",{staticClass:"year"},[t._v(t._s(e.year))])]),t._v(" "),a("div",{staticClass:"star"},[e.rating.average>0?a("span",{staticClass:"star-box"},[t._l(t.ratingStar(e.rating.average).star,function(i){return a("mu-icon",{key:e.id+t.ratingStar(e.rating.average).star,staticClass:"star-icon",attrs:{value:"star"}})}),t._v(" "),t._l(t.ratingStar(e.rating.average).half,function(i){return a("mu-icon",{key:e.id+t.ratingStar(e.rating.average).half,staticClass:"star-icon",attrs:{value:"star_half"}})}),t._v(" "),t._l(t.ratingStar(e.rating.average).left,function(i){return a("mu-icon",{key:e.id+t.ratingStar(e.rating.average).left,staticClass:"star-icon",attrs:{value:"star_border"}})})],2):t._e(),t._v(" "),a("div",{staticClass:"star-num"},[t._v(t._s(t._f("fixNum")(e.rating.average)))])]),t._v(" "),a("div",{staticClass:"genres"},[t._v("类型："+t._s(t._f("addPath")(e.genres)))]),t._v(" "),a("div",{staticClass:"director"},[t._v("导演："+t._s(t._f("addPath")(e.directors.map(function(t){return t.name}))))]),t._v(" "),a("div",{staticClass:"cast"},[t._v("主演："+t._s(t._f("addPath")(e.casts.map(function(t){return t.name}))))])])])],1)}))])},staticRenderFns:[]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"music"}},[i("div",{staticClass:"music-head"},[i("mu-appbar",{attrs:{title:"音乐"}})],1),t._v(" "),i("div",[i("mu-paper",{staticClass:"demo-paper",attrs:{circle:"",zDepth:3}},[i("img",{attrs:{src:a(26)}})])],1),t._v(" "),i("div",[i("p",{staticClass:"building"},[t._v("施工中...")]),t._v(" "),i("mu-circular-progress",{attrs:{size:40}})],1)])},staticRenderFns:[]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"about"}},[i("div",{staticClass:"about-head"},[i("mu-appbar",{attrs:{title:"关于"}})],1),t._v(" "),i("mu-paper",{staticClass:"demo-paper",attrs:{circle:"",zDepth:3}},[i("img",{attrs:{src:a(26)}})]),t._v(" "),t._m(0),t._v(" "),i("mu-divider"),t._v(" "),i("div",{staticClass:"links"},[i("mu-list",[i("mu-sub-header",[t._v("访问github上的源码")]),t._v(" "),i("mu-paper",[i("mu-list-item",{attrs:{title:"GitHub"}},[i("mu-icon",{attrs:{value:"link"},slot:"left"})],1)],1),t._v(" "),i("mu-sub-header",[t._v("联系我")]),t._v(" "),i("mu-paper",[i("mu-list-item",{attrs:{title:"iamyazlee@hotmail.com"}},[i("mu-icon",{attrs:{value:"email"},slot:"left"})],1)],1)],1)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detial"},[a("p",[t._v("基于豆瓣api的Vue Demo")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view")],1)},staticRenderFns:[]}}],[78]);
//# sourceMappingURL=app.9971619b906edc027663.js.map